<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charSet="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>Redux Form - `v6` Migration Guide</title>
    <link href="http://redux-form.com/6.0.0-rc.1/bundle.css"
      media="screen, projection" rel="stylesheet" type="text/css"/>
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"
          media="screen, projection" rel="stylesheet" type="text/css"/>
    <meta itemprop="name" content="Redux Form"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="Redux Form"/>
    <meta property="og:site_name" content="Redux Form"/>
    <meta property="og:description" content="The best way to manage your form state in Redux."/>
    <meta property="og:image" content="logo.png"/>
    <meta property="twitter:site" content="@erikras"/>
    <meta property="twitter:creator" content="@erikras"/>
    <style type="text/css">
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
  <div id="content">
    <div class="app___3P8ep hasNav___1KF_W" data-reactroot="" data-reactid="1" data-react-checksum="-691497566"><div class="nav___11xa5" data-reactid="2"><button type="button" data-reactid="3"></button><div class="overlay___1GMox" data-reactid="4"><i class="fa fa-times" data-reactid="5"></i><!-- react-text: 6 --> Close<!-- /react-text --></div><div class="placeholder___TzF1K" data-reactid="7"></div><nav class="menu___12xDU" data-reactid="8"><a href="http://redux-form.com/6.0.0-rc.1" class="brand___1qRUu" data-reactid="9">Redux Form</a><a href="http://redux-form.com/6.0.0-rc.1/docs/GettingStarted.md" class="" data-reactid="10">Getting Started</a><a href="http://redux-form.com/6.0.0-rc.1/docs/MigrationGuide.md" class="active___2eU59" data-reactid="11"><code>v6</code> Migration Guide</a><a href="http://redux-form.com/6.0.0-rc.1/docs/api" class="" data-reactid="12">API</a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/ReduxForm.md" class="indent1___4iVnL" data-reactid="13"><code>reduxForm()</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/Props.md" class="indent1___4iVnL" data-reactid="14"><code>props</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/Field.md" class="indent1___4iVnL" data-reactid="15"><code>Field</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/FieldArray.md" class="indent1___4iVnL" data-reactid="16"><code>FieldArray</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/FormValueSelector.md" class="indent1___4iVnL" data-reactid="17"><code>formValueSelector()</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/Reducer.md" class="indent1___4iVnL" data-reactid="18"><code>reducer</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/ReducerPlugin.md" class="indent2___2PiOO" data-reactid="19"><code>reducer.plugin()</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/SubmissionError.md" class="indent1___4iVnL" data-reactid="20"><code>SubmissionError</code></a><a href="http://redux-form.com/6.0.0-rc.1/docs/api/ActionCreators.md" class="indent1___4iVnL" data-reactid="21">Action Creators</a><a href="http://redux-form.com/6.0.0-rc.1/docs/faq" class="" data-reactid="22">FAQ</a><a href="http://redux-form.com/6.0.0-rc.1/examples" class="" data-reactid="23">Examples</a><a href="http://redux-form.com/6.0.0-rc.1/examples/simple" class="indent1___4iVnL" data-reactid="24">Simple Form</a><a href="http://redux-form.com/6.0.0-rc.1/examples/syncValidation" class="indent1___4iVnL" data-reactid="25">Sync Validation</a><a href="http://redux-form.com/6.0.0-rc.1/examples/submitValidation" class="indent1___4iVnL" data-reactid="26">Submit Validation</a><a href="http://redux-form.com/6.0.0-rc.1/examples/asyncValidation" class="indent1___4iVnL" data-reactid="27">Async Validation</a><a href="http://redux-form.com/6.0.0-rc.1/examples/initializeFromState" class="indent1___4iVnL" data-reactid="28">Initializing from State</a><a href="http://redux-form.com/6.0.0-rc.1/examples/selectingFormValues" class="indent1___4iVnL" data-reactid="29">Selecting Form Values</a><a href="http://redux-form.com/6.0.0-rc.1/examples/fieldArrays" class="indent1___4iVnL" data-reactid="30">Field Arrays</a><a href="http://redux-form.com/6.0.0-rc.1/examples/normalizing" class="indent1___4iVnL" data-reactid="31">Normalizing</a><a href="http://redux-form.com/6.0.0-rc.1/examples/immutable" class="indent1___4iVnL" data-reactid="32">Immutable JS</a><a href="http://redux-form.com/6.0.0-rc.1/examples/wizard" class="indent1___4iVnL" data-reactid="33">Wizard Form</a><a href="http://redux-form.com/6.0.0-rc.1/examples/material-ui" class="indent1___4iVnL" data-reactid="34">Material UI</a><a href="http://redux-form.com/6.0.0-rc.1/examples/react-widgets" class="indent1___4iVnL" data-reactid="35">React Widgets</a><a href="http://redux-form.com/6.0.0-rc.1/docs/DocumentationVersions.md" class="" data-reactid="36">Older Versions</a></nav></div><div class="contentAndFooter___kE2nt" data-reactid="37"><div class="topNav___sBW8S" data-reactid="38"><a href="http://redux-form.com" class="brand___YAZl-" data-reactid="39"></a><a class="github___3-vRv" href="https://github.com/erikras/redux-form" title="Github" target="_blank" data-reactid="40"><i class="fa fa-fw fa-github" data-reactid="41"></i></a></div><div class="content___3TVHp" data-reactid="42"><div data-reactid="43"><ol class="breadcrumbs___1BHo6" data-reactid="44"><li data-reactid="45"><a href="http://redux-form.com/6.0.0-rc.1/" data-reactid="46">Redux Form</a></li><li data-reactid="47"><code>v6</code> Migration Guide</li></ol><div data-reactid="48"><h1 id="-v5-v6-migration-guide"><code>v5</code> â†’ <code>v6</code> Migration Guide</h1>
<p><code>redux-form</code> has been <em>completely</em> rewritten for <code>v6</code>, because of a fundamental design change.</p>
<h2 id="inversion-of-control">Inversion of Control</h2>
<p>In <code>v5</code>, only the outer form component was connected to the Redux state, and the props for each 
field were passed in via the form component. The problem with this is that the <em>entire</em> form 
component had to rerender <em>on every single keypress</em> that changed a form value. This was fine for
small login forms, but lead to extremely slow performance on larger forms with dozens or hundreds
of fields.</p>
<p><strong>In <code>v6</code>, every single field is connected to the Redux store.</strong> The outer form component is also
connected, but is connected in such a manner that does not require it to refresh every time a 
value changes.</p>
<p>Because of this inversion of control, <strong>there is no incremental upgrade path</strong>. I would love to 
provide new API and provide deprecation warnings on the old API, but there is just no path from 
here to there that allows for such a transition.</p>
<p>The <code>v6</code> <code>Field</code> API was designed, however, in such a way as to minimize the migration pains. 
This document will outline the minimum migration distance from <code>v5</code> to <code>v6</code>.</p>
<h2 id="goodbye-fields-hello-field-">Goodbye <code>fields</code>... Hello <code>Field</code>!</h2>
<p>In <code>v5</code>, you were required to provide an array of <code>fields</code> names, and then a <code>fields</code> object prop 
was provided to your decorated component. The mechanism that generates the props (<code>value</code>,
<code>onChange</code>, <code>onBlur</code>, etc.) for your input from the string name of your field is the new <code>Field</code> 
component.</p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >import</span> React<span class="token punctuation" >,</span> <span class="token punctuation" >{</span> Component <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'react'</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> reduxForm <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'redux-form'</span>

<span class="token keyword" >class</span> <span class="token class-name" >MyForm</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>

    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> fields<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> username<span class="token punctuation" >,</span> password <span class="token punctuation" >}</span><span class="token punctuation" >,</span> handleSubmit <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>form</span> <span class="token attr-name" >onSubmit</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>handleSubmit<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Username<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>input</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>text<span class="token punctuation" >"</span></span> <span class="token attr-name" >{...username}</span><span class="token punctuation" >/></span>
            <span class="token attr-name" >{username.touched</span> <span class="token attr-name" >&amp;&amp;</span>
             <span class="token attr-name" >username.error</span> <span class="token attr-name" >&amp;&amp;</span>
             <span class="token attr-name" >&lt;span</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>error<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>username<span class="token punctuation" >.</span>error<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>span</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Password<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
            <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"password"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>password<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>  <span class="token comment" spellcheck="true">// Duplicating same code as above</span>
            <span class="token punctuation" >{</span>password<span class="token punctuation" >.</span>touched <span class="token operator" >&amp;&amp;</span>                    <span class="token comment" spellcheck="true">// except for "type" prop</span>
             password<span class="token punctuation" >.</span>error <span class="token operator" >&amp;&amp;</span>
             <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>span</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>error<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>password<span class="token punctuation" >.</span>error<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>span</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>submit<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>Submit<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>form</span><span class="token punctuation" >></span></span>
    <span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >reduxForm</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  form<span class="token punctuation" >:</span> <span class="token string" >'myForm'</span><span class="token punctuation" >,</span>
  fields<span class="token punctuation" >:</span> <span class="token punctuation" >[</span> <span class="token string" >'username'</span><span class="token punctuation" >,</span> <span class="token string" >'password'</span> <span class="token punctuation" >]</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>MyForm<span class="token punctuation" >)</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >import</span> React<span class="token punctuation" >,</span> <span class="token punctuation" >{</span> Component <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'react'</span>
<span class="token keyword" >import</span> <span class="token punctuation" >{</span> reduxForm<span class="token punctuation" >,</span> Field <span class="token punctuation" >}</span> <span class="token keyword" >from</span> <span class="token string" >'redux-form'</span> <span class="token comment" spellcheck="true">// imported Field</span>

<span class="token keyword" >const</span> renderInput <span class="token operator" >=</span> props <span class="token operator" >=</span><span class="token operator" >></span> <span class="token comment" spellcheck="true">// Define stateless component to render input and errors</span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
    <span class="token operator" >&lt;</span>input <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>props<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>      <span class="token comment" spellcheck="true">// No type specified. That is specified below in &lt;Field></span>
    <span class="token punctuation" >{</span>props<span class="token punctuation" >.</span>touched <span class="token operator" >&amp;&amp;</span>
     props<span class="token punctuation" >.</span>error <span class="token operator" >&amp;&amp;</span>
     <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>span</span> <span class="token attr-name" >className</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>error<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token punctuation" >{</span>props<span class="token punctuation" >.</span>error<span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>span</span><span class="token punctuation" >></span></span><span class="token punctuation" >}</span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>

<span class="token keyword" >class</span> <span class="token class-name" >MyForm</span> <span class="token keyword" >extends</span> <span class="token class-name" >Component</span> <span class="token punctuation" >{</span>
  <span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>

    <span class="token keyword" >const</span> <span class="token punctuation" >{</span> handleSubmit <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props       <span class="token comment" spellcheck="true">// No fields prop</span>

    <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>form</span> <span class="token attr-name" >onSubmit</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>handleSubmit<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Username<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
          <span class="token operator" >&lt;</span>Field
            name<span class="token operator" >=</span><span class="token string" >"username"</span>                   <span class="token comment" spellcheck="true">// Specify field name</span>
            component<span class="token operator" >=</span><span class="token punctuation" >{</span>renderInput<span class="token punctuation" >}</span>           <span class="token comment" spellcheck="true">// Specify render component above</span>
            type<span class="token operator" >=</span><span class="token string" >"text"</span><span class="token operator" >/</span><span class="token operator" >></span>                     <span class="token comment" spellcheck="true">// "type" prop will get forwarded to &lt;input></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Username<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
          <span class="token operator" >&lt;</span>Field
            name<span class="token operator" >=</span><span class="token string" >"username"</span>                   <span class="token comment" spellcheck="true">// Specify field name</span>
            component<span class="token operator" >=</span><span class="token punctuation" >{</span>renderInput<span class="token punctuation" >}</span>           <span class="token comment" spellcheck="true">// Reuse same render component</span>
            type<span class="token operator" >=</span><span class="token string" >"password"</span><span class="token operator" >/</span><span class="token operator" >></span>                 <span class="token comment" spellcheck="true">// type prop will get forwarded to &lt;input></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>

        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>submit<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span>Submit<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>form</span><span class="token punctuation" >></span></span>
    <span class="token punctuation" >)</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>

<span class="token keyword" >export</span> <span class="token keyword" >default</span> <span class="token function" >reduxForm</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  form<span class="token punctuation" >:</span> <span class="token string" >'myForm'</span>
                                              <span class="token comment" spellcheck="true">// no fields array given</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >(</span>MyForm<span class="token punctuation" >)</span>
</code></pre>

<p>In <code>v5</code> the field name strings were all bundled together as input and the field objects came out
bundled together as output (of <code>redux-form</code>), and now, in <code>v6</code>, the conversion from field name to 
field object is done one at a time at the location of each field.</p>
<h2 id="-handlesubmit-and-onsubmit-"><code>handleSubmit</code> and <code>onSubmit</code></h2>
<p>The only thing that has changed about form submission is that your submit validation 
errors must now be wrapped in a <code>SubmissionError</code> object. This is to distinguish between 
validation errors and AJAX or server errors.
<a href="https://github.com/erikras/redux-form/pull/602">See discussion on PR #602</a></p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token operator" >&lt;</span>MyForm onSubmit<span class="token operator" >=</span><span class="token punctuation" >{</span>values <span class="token operator" >=</span><span class="token operator" >></span>
  ajax<span class="token punctuation" >.</span><span class="token function" >send</span><span class="token punctuation" >(</span>values<span class="token punctuation" >)</span> <span class="token comment" spellcheck="true">// however you send data to your server...</span>
    <span class="token punctuation" >.</span><span class="token keyword" >catch</span><span class="token punctuation" >(</span>error <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
      <span class="token comment" spellcheck="true">// how you pass server-side validation errors back is up to you</span>
      <span class="token keyword" >if</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >return</span> Promise<span class="token punctuation" >.</span><span class="token function" >reject</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span> <span class="token keyword" >else</span> <span class="token punctuation" >{</span>
        <span class="token comment" spellcheck="true">// what you do about other communication errors is up to you</span>
        <span class="token function" >reportServerError</span><span class="token punctuation" >(</span>error<span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token operator" >&lt;</span>MyForm onSubmit<span class="token operator" >=</span><span class="token punctuation" >{</span>values <span class="token operator" >=</span><span class="token operator" >></span>
  ajax<span class="token punctuation" >.</span><span class="token function" >send</span><span class="token punctuation" >(</span>values<span class="token punctuation" >)</span>
    <span class="token punctuation" >.</span><span class="token keyword" >catch</span><span class="token punctuation" >(</span>error <span class="token operator" >=</span><span class="token operator" >></span> <span class="token punctuation" >{</span>
      <span class="token keyword" >if</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
        <span class="token keyword" >throw</span> <span class="token keyword" >new</span> <span class="token class-name" >SubmissionError</span><span class="token punctuation" >(</span>error<span class="token punctuation" >.</span>validationErrors<span class="token punctuation" >)</span> <span class="token comment" spellcheck="true">// &lt;----- only difference</span>
      <span class="token punctuation" >}</span> <span class="token keyword" >else</span> <span class="token punctuation" >{</span>
        <span class="token function" >reportServerError</span><span class="token punctuation" >(</span>error<span class="token punctuation" >)</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
</code></pre>

<h2 id="sync-validation">Sync Validation</h2>
<p>Sync validation is exactly the same as in <code>v5</code>. The only small difference is that if you are 
using ImmutableJS, the <code>values</code> given to your sync validation function will be an an
<code>Immutable.Map</code>. The errors returned, however, should be a in a plain JS object, like always.</p>
<h2 id="initialization-with-initialvalues-">Initialization with <code>initialValues</code></h2>
<p>Nothing has changed with this, apart from fixing some pesky bugs like 
<a href="https://github.com/erikras/redux-form/issues/514">#514</a>,
<a href="https://github.com/erikras/redux-form/issues/621">#621</a>,
<a href="https://github.com/erikras/redux-form/issues/628">#628</a>, and
<a href="https://github.com/erikras/redux-form/issues/756">#756</a>. In <code>v6</code>, each field will have its 
initial value on the very first render.</p>
<h2 id="async-validation">Async Validation</h2>
<p>No changes. Works exactly like <code>v5</code>.</p>
<h2 id="deep-fields">Deep Fields</h2>
<p>There is no mystery to deep fields in <code>v6</code>. You simply use dot-syntax on your field name.</p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> <span class="token punctuation" >{</span> 
    fields<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      contact<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
        shipping<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> street <span class="token punctuation" >}</span>
      <span class="token punctuation" >}</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>street<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>  
<span class="token punctuation" >}</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Field</span> <span class="token attr-name" >name</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>contact.shipping.street<span class="token punctuation" >"</span></span> <span class="token attr-name" >component</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>street <span class="token operator" >=</span><span class="token operator" >></span>
        <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>street<span class="token punctuation" >}</span></span><span class="token punctuation" >/></span></span>
      <span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre>

<h2 id="field-arrays">Field Arrays</h2>
<p>To get the field array object that was passed as a prop to the whole form in <code>v5</code>, you must use 
the <code>FieldArray</code> component, much like the <code>Field</code> component is used.</p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >const</span> <span class="token punctuation" >{</span> fields<span class="token punctuation" >:</span> <span class="token punctuation" >{</span> awards <span class="token punctuation" >}</span> <span class="token punctuation" >}</span> <span class="token operator" >=</span> <span class="token keyword" >this</span><span class="token punctuation" >.</span>props<span class="token punctuation" >;</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
        <span class="token punctuation" >{</span>awards<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>award<span class="token punctuation" >,</span> index<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>li</span> <span class="token attr-name" >key</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>index<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Award #<span class="token punctuation" >{</span>index <span class="token operator" >+</span> <span class="token number" >1</span><span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
          <span class="token operator" >&lt;</span>input type<span class="token operator" >=</span><span class="token string" >"text"</span> <span class="token punctuation" >{</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>award<span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> awards<span class="token punctuation" >.</span><span class="token function" >addField</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Add Award<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token function" >render</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >return</span> <span class="token punctuation" >(</span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
      <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>FieldArray</span> <span class="token attr-name" >name</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>awards<span class="token punctuation" >"</span></span> <span class="token attr-name" >component</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>awards <span class="token operator" >=</span><span class="token operator" >></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>div</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>ul</span><span class="token punctuation" >></span></span>
            <span class="token punctuation" >{</span>awards<span class="token punctuation" >.</span><span class="token function" >map</span><span class="token punctuation" >(</span><span class="token punctuation" >(</span>name<span class="token punctuation" >,</span> index<span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> <span class="token operator" >&lt;</span>li key<span class="token punctuation" >=</span><span class="token punctuation" >{</span>index<span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>
              <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>label</span><span class="token punctuation" >></span></span>Award #<span class="token punctuation" >{</span>index <span class="token operator" >+</span> <span class="token number" >1</span><span class="token punctuation" >}</span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>label</span><span class="token punctuation" >></span></span>
              <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Field</span> <span class="token attr-name" >name</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>name<span class="token punctuation" >}</span></span> <span class="token attr-name" >type</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>text<span class="token punctuation" >"</span></span> <span class="token attr-name" >component</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>input<span class="token punctuation" >"</span>/</span><span class="token punctuation" >></span></span>
            <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>li</span><span class="token punctuation" >></span></span><span class="token punctuation" >)</span><span class="token punctuation" >}</span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>ul</span><span class="token punctuation" >></span></span>
          <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>button</span> <span class="token attr-name" >onClick</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span> <span class="token operator" >=</span><span class="token operator" >></span> awards<span class="token punctuation" >.</span><span class="token function" >push</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span><span class="token punctuation" >}</span></span><span class="token punctuation" >></span></span>Add Award<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>button</span><span class="token punctuation" >></span></span>
        <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
      <span class="token punctuation" >}</span><span class="token operator" >/</span><span class="token operator" >></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>div</span><span class="token punctuation" >></span></span>
  <span class="token punctuation" >)</span>
<span class="token punctuation" >}</span>
</code></pre>

<h2 id="normalization">Normalization</h2>
<p>In <code>v6</code>, normalization has moved from the reducer to the field level.</p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >const</span> upper <span class="token operator" >=</span> value <span class="token operator" >=</span><span class="token operator" >></span> value <span class="token operator" >&amp;&amp;</span> value<span class="token punctuation" >.</span><span class="token function" >toUpperCase</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span>

<span class="token keyword" >const</span> reducer <span class="token operator" >=</span> <span class="token function" >combineReducers</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
  <span class="token comment" spellcheck="true">// other reducers</span>
  form<span class="token punctuation" >:</span> form<span class="token punctuation" >.</span><span class="token function" >normalize</span><span class="token punctuation" >(</span><span class="token punctuation" >{</span>
    myForm<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      myUppercaseField<span class="token punctuation" >:</span> upper
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >)</span>
<span class="token punctuation" >}</span><span class="token punctuation" >)</span><span class="token punctuation" >;</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token keyword" >const</span> upper <span class="token operator" >=</span> value <span class="token operator" >=</span><span class="token operator" >></span> value <span class="token operator" >&amp;&amp;</span> value<span class="token punctuation" >.</span><span class="token function" >toUpperCase</span><span class="token punctuation" >(</span><span class="token punctuation" >)</span>

<span class="token punctuation" >.</span><span class="token punctuation" >.</span><span class="token punctuation" >.</span>

<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>Field</span> <span class="token attr-name" >name</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>myUppercaseField<span class="token punctuation" >"</span></span> <span class="token attr-name" >component</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>input<span class="token punctuation" >"</span></span> <span class="token attr-name" >normalize</span><span class="token script language-javascript" ><span class="token punctuation" >=</span><span class="token punctuation" >{</span>upper<span class="token punctuation" >}</span></span><span class="token punctuation" >/></span></span>
</code></pre>

<p>See the <a href="http://redux-form.com/6.0.0-rc.1/examples/normalizing/">Normalizing Example</a> for 
more details.</p>
<h2 id="listening-to-other-actions">Listening to other actions</h2>
<p>The <code>plugin()</code> API is identical to that of <code>v5</code>. However, the internal structure of the form 
state <em>has</em> changed, so your plugin reducer that was modifying it will need to be updated. It 
more or less changed as follows:</p>
<h4 id="-v5-"><code>v5</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token punctuation" >{</span>
  myField<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    value<span class="token punctuation" >:</span> <span class="token string" >'myValue'</span><span class="token punctuation" >,</span>
    initial<span class="token punctuation" >:</span> <span class="token string" >'myInitialValue'</span><span class="token punctuation" >,</span>
    asyncError<span class="token punctuation" >:</span> <span class="token string" >'myAsyncError'</span><span class="token punctuation" >,</span>
    submitError<span class="token punctuation" >:</span> <span class="token string" >'mySubmitError'</span><span class="token punctuation" >,</span>
    touched<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
    visited<span class="token punctuation" >:</span> <span class="token boolean" >true</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre>

<h4 id="-v6-"><code>v6</code></h4>
<pre class="language-jsx"><code class="language-jsx">
<span class="token punctuation" >{</span>
  values<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    myField<span class="token punctuation" >:</span> <span class="token string" >'myValue'</span>
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  initial<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    myField<span class="token punctuation" >:</span> 'myInitialValue
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  asyncErrors<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    myField<span class="token punctuation" >:</span> 'myAsyncError
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  submitErrors<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    myField<span class="token punctuation" >:</span> 'mySubmitError
  <span class="token punctuation" >}</span><span class="token punctuation" >,</span>
  fields<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
    myField<span class="token punctuation" >:</span> <span class="token punctuation" >{</span>
      touched<span class="token punctuation" >:</span> <span class="token boolean" >true</span><span class="token punctuation" >,</span>
      visited<span class="token punctuation" >:</span> <span class="token boolean" >true</span>
    <span class="token punctuation" >}</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre></div></div></div><div class="footer___1oh0h" data-reactid="49"><div data-reactid="50">Created by Erik Rasmussen</div><div data-reactid="51"><!-- react-text: 52 -->Got questions? Ask for help:<!-- /react-text --><a class="help___3OayI" href="https://stackoverflow.com/questions/ask?tags=redux-form" title="Stack Overflow" target="_blank" data-reactid="53"><i class="fa fa-fw fa-stack-overflow" data-reactid="54"></i></a><a class="help___3OayI" href="https://github.com/erikras/redux-form/issues/new" title="Github" target="_blank" data-reactid="55"><i class="fa fa-fw fa-github" data-reactid="56"></i></a></div><div data-reactid="57"><a href="https://twitter.com/erikras" class="twitter-follow-button" data-show-count="false" data-size="large" data-reactid="58"><!-- react-text: 59 -->Follow @<!-- /react-text --><!-- react-text: 60 -->erikras<!-- /react-text --></a><a href="https://twitter.com/ReduxForm" class="twitter-follow-button" data-show-count="false" data-size="large" data-reactid="61"><!-- react-text: 62 -->Follow @<!-- /react-text --><!-- react-text: 63 -->ReduxForm<!-- /react-text --></a></div></div></div></div>
  </div>
  <script src="http://redux-form.com/6.0.0-rc.1/bundle.js"></script>
  <script>initReact({"version":"6.0.0-rc.1","path":"/docs/MigrationGuide.md","breadcrumbs":[{"path":"http://redux-form.com/6.0.0-rc.1/","title":"Redux Form"},{"path":"http://redux-form.com/6.0.0-rc.1/docs/MigrationGuide.md","title":"`v6` Migration Guide"}]})</script>
  <script>
    (function(i,s,o,g,r,a,m){i[ 'GoogleAnalyticsObject' ] = r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-69298417-1', 'auto');
    ga('send', 'pageview');
  </script>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
  </body>
  </html>